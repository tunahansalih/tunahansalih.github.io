<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="{{ site.github.url }}/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<!-- <script src="{{ site.github.url }}/assets/js/scripts.min.js"></script> -->
{% if site.owner.google.analytics %}
<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl =
    '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', '{{ site.owner.google.analytics }}']);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
{% endif %}
{% if page.comments %}
{% include _disqus_comments.html %}
{% endif %}

<!-- Back to top button -->
<button id="backToTop" class="back-to-top" aria-label="Back to top" title="Back to top">
  <i class="fas fa-arrow-up"></i>
</button>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Back to top functionality
    const backToTopButton = document.getElementById('backToTop');

    // Show/hide the button based on scroll position
    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) {
        backToTopButton.classList.add('visible');
      } else {
        backToTopButton.classList.remove('visible');
      }
    });

    // Scroll to top when clicked
    backToTopButton.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Add active class to current navigation links
    highlightCurrentPage();

    function highlightCurrentPage() {
      const currentPath = window.location.pathname;
      const navLinks = document.querySelectorAll('.top-navigation li a');

      navLinks.forEach(link => {
        const linkPath = link.getAttribute('href');

        // Handle home page
        if (currentPath === '/' && (linkPath === '/' || linkPath === '/index.html')) {
          link.classList.add('active');
        }
        // Handle other pages
        else if (currentPath.includes(linkPath) && linkPath !== '/' && linkPath !== '/index.html') {
          link.classList.add('active');
        }
      });
    }

    // Add parallax effect to header images
    const headerImages = document.querySelectorAll('.image-wrap img');
    if (headerImages.length > 0) {
      window.addEventListener('scroll', () => {
        const scrolled = window.scrollY;
        headerImages.forEach(img => {
          img.style.transform = `translateY(${scrolled * 0.3}px)`;
        });
      });
    }
  });
</script>